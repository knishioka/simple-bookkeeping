# 複式簿記システム仕様書

## 1. システム概要

### 1.1 目的

日本の確定申告（青色申告）に対応した複式簿記システムを構築し、個人事業主や小規模事業者が簡単に帳簿管理と確定申告書類の作成ができるようにする。

### 1.2 主要目標

- 青色申告特別控除（65万円）の要件を満たす複式簿記機能の提供
- シンプルで使いやすいインターフェース
- 貸借対照表（BS）・損益計算書（PL）の自動生成
- e-Tax対応による電子申告のサポート

## 2. 機能要件

### 2.1 基本機能

#### 2.1.1 仕訳入力機能

- 日付、勘定科目、金額、摘要の入力
- 借方・貸方の自動バランスチェック
- 定型仕訳の登録・呼び出し
- 仕訳の複製・修正・削除
- CSVインポート機能

#### 2.1.2 勘定科目管理

- 標準勘定科目の提供
- カスタム勘定科目の追加・編集
- 勘定科目の階層管理
- 補助科目の設定

#### 2.1.3 帳簿管理

##### 主要簿

- 仕訳帳の自動生成
- 総勘定元帳の自動生成

##### 補助簿

- 現金出納帳
- 預金出納帳
- 売掛帳
- 買掛帳
- 固定資産台帳

### 2.2 レポート機能

#### 2.2.1 試算表

- 合計残高試算表
- 月次推移表
- 前期比較表

#### 2.2.2 決算書類

- 貸借対照表（BS）
- 損益計算書（PL）
- 製造原価報告書（必要に応じて）
- キャッシュフロー計算書（オプション）

#### 2.2.3 青色申告決算書

- 損益計算書（一般用）
- 損益計算書の内訳
- 貸借対照表
- 月別売上（収入）金額及び仕入金額

### 2.3 税務機能

#### 2.3.1 消費税管理

- 税率設定（10%、軽減税率8%）
- 税込・税抜の自動計算
- 消費税申告書の作成支援

#### 2.3.2 確定申告支援

- 青色申告決算書の自動作成
- e-Tax形式でのデータ出力
- 電子帳簿保存法対応

### 2.4 データ管理機能

#### 2.4.1 バックアップ・リストア

- 自動バックアップ
- 手動バックアップ
- データ復元機能

#### 2.4.2 期首・期末処理

- 年度切替
- 繰越処理
- 決算整理仕訳

#### 2.4.3 マスタ管理

- 取引先マスタ
- 従業員マスタ（給与計算連携用）
- 部門マスタ

### 2.5 分析機能

#### 2.5.1 経営分析

- 収益性分析
- 安全性分析
- 月次推移グラフ
- 予実管理

#### 2.5.2 資金繰り管理

- 資金繰り表
- 入出金予定管理

## 3. 非機能要件

### 3.1 セキュリティ

- ユーザー認証（ログイン機能）
- データの暗号化
- アクセスログの記録
- セッション管理

### 3.2 パフォーマンス

- 仕訳入力の高速化（1件あたり3秒以内）
- レポート生成の最適化（10秒以内）
- 大量データ対応（年間10万件の仕訳）

### 3.3 ユーザビリティ

- 直感的なUI設計
- キーボードショートカット対応
- ヘルプ機能・チュートリアル
- レスポンシブデザイン

### 3.4 互換性・連携

- CSV/Excel形式でのインポート・エクスポート
- 他会計ソフトからのデータ移行
- 銀行API連携（将来実装）
- レシートOCR機能（将来実装）

### 3.5 法令対応

- 電子帳簿保存法への準拠
- インボイス制度対応
- 最新の税制改正への対応

## 4. システム構成

### 4.1 技術スタック（推奨）

- フロントエンド：React/Next.js + TypeScript
- バックエンド：Node.js/Express または Python/FastAPI
- データベース：PostgreSQL
- 状態管理：Redux または Zustand
- UIライブラリ：Material-UI または Tailwind CSS

### 4.2 アーキテクチャ

- マイクロサービスアーキテクチャ（将来的な拡張性を考慮）
- RESTful API設計
- イベントドリブンアーキテクチャ（監査ログ用）

## 5. 開発フェーズ

### Phase 1: 基本機能実装

- 仕訳入力
- 主要簿の生成
- 基本的なBS/PL出力

### Phase 2: 帳簿機能拡張

- 補助簿の実装
- 勘定科目のカスタマイズ
- CSV入出力

### Phase 3: 決算・申告機能

- 青色申告決算書の生成
- 決算整理仕訳
- e-Tax対応

### Phase 4: 高度な機能

- 経営分析機能
- 外部連携
- モバイル対応

## 6. 品質基準

### 6.1 テスト要件

- 単体テストカバレッジ：80%以上
- 結合テストの実施
- E2Eテストによる主要フローの検証
- 負荷テストの実施

### 6.2 ドキュメント

- APIドキュメント
- ユーザーマニュアル
- 運用マニュアル
- 開発者向けドキュメント
